/* ------------------------------------------------------------------------------
<auto-generated>
    This file was generated by Sitefinity CLI v1.1.0.22
</auto-generated>
------------------------------------------------------------------------------ */

using Progress.Sitefinity.Renderer.Designers.Attributes;
using Progress.Sitefinity.Renderer.Entities.Content;
using SFAdvDev2022.Localization;
using SFAdvDev2022.Mvc.Models;
using System;
using System.ComponentModel;
using System.Web.Mvc;
using Telerik.Sitefinity.Frontend.Mvc.Infrastructure.Controllers.Attributes;
using Telerik.Sitefinity.Modules.Libraries;
using Telerik.Sitefinity.Mvc;
using Telerik.Sitefinity.Personalization;
using Telerik.Sitefinity.Services;

namespace SFAdvDev2022.Mvc.Controllers
{
	[Localization(typeof(MyWidgetResources))]
	[ControllerToolboxItem(Name = "Nick", Title = "Nick", SectionName = "SFAdvDev2022")]
	public class NickController : Controller, IPersonalizable
	{
		// GET: Nick
		public ActionResult Index()
		{
			var model = new NickModel();
			model.Message = this.Message;
			model.Enum = this.Enum;
			model.Flag = this.Flag;
			model.MyDate = this.MyDate;
			model.Number = this.Number;

			LibrariesManager lbmanager = LibrariesManager.GetManager();
			var image = lbmanager.GetImage(Guid.Parse(this.Images.ItemIdsOrdered[0]));
			model.Images = image.MediaUrl;

			EventHub.Raise(new StevenEvent { MyCustomMessage = "Steven is sending you a message"});

			return View("Index", model);
		}
		
        protected override void HandleUnknownAction(string actionName)
        {
            this.ActionInvoker.InvokeAction(this.ControllerContext, "Index");
        }

		[Browsable(false)]
		public string Message { get; set; }
		public bool Flag { get; set; }
		public Enumeration Enum { get; set; }
		public int Number { get; set; }
		public DateTime MyDate { get; set; }
		[Content(Type = KnownContentTypes.Pages)]
		public MixedContentContext Page { get; set; }
		[Content(Type = KnownContentTypes.Images)]
		public MixedContentContext Images { get; set; }
		[Content(Type = KnownContentTypes.Tags)]
		public MixedContentContext Tags { get; set; }
		[Content(Type = KnownContentTypes.News)]
		public MixedContentContext News { get; set; }
	}
}